# EnglishCard ‚Äî Telegram –±–æ—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Å–ª–æ–≤

–ù–µ–±–æ–ª—å—à–æ–π Telegram-–±–æ—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤: —É—Ä–æ–∫–∏, —Ç–µ—Å—Ç—ã, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–ª–æ–≤ –∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –£—á–∏—Ç—å —Å–ª–æ–≤–∞ –ø–æ —Ç–µ–º–∞–º
- –ü—Ä–æ—Ö–æ–¥–∏—Ç—å —Ç–µ—Å—Ç—ã (–æ—Ü–µ–Ω–∫–∞ –ø–æ 5-–±–∞–ª–ª—å–Ω–æ–π —à–∫–∞–ª–µ)
- –î–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ) —Å–ª–æ–≤–∞
- –ü–æ–≤—Ç–æ—Ä—è—Ç—å –≤—ã—É—á–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã):**
- `bot/main.py` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞ (–∑–∞–ø—É—Å–∫, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏).
- `bot/database/db.py` ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å PostgreSQL.
- `bot/database/models.py` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
- `bot/database/crud.py` ‚Äî CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π.

–¢–µ–∫—É—â–∞—è –ø–∞–ø–∫–∞: –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∞–π–ª `readmy.md` –∏ –ø–∞–∫–µ—Ç `bot`.

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- PostgreSQL (–¥–æ—Å—Ç—É–ø–Ω–∞—è –ë–î)
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python: `pyTelegramBotAPI`, `python-dotenv`, `psycopg2-binary`

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
1. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```powershell
python -m venv .venv
.\.venv\Scripts\Activate.ps1   # PowerShell
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`

```
pip install -r requirements.txt
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `python-dotenv`. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```
TOKEN=–≤–∞—à_telegram_bot_token
DB_NAME=–∏–º—è_–±–¥
DB_USER=–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–±–¥
DB_PASSWORD=–ø–∞—Ä–æ–ª—å
DB_HOST=localhost
DB_PORT=5432
```

–ü–æ—è—Å–Ω–µ–Ω–∏—è:
- `TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –æ—Ç BotFather.
- `DB_*` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `bot/database/db.py`).

## –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `.env` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```powershell
python -m bot.main
```

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `bot.main` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `init_db()` (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç).

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º (–∫—Ä–∞—Ç–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.
- –ö–Ω–æ–ø–∫–∏:
	- `–£—á–∏—Ç—å —Å–ª–æ–≤–∞ üìö` ‚Äî –º–µ–Ω—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤ –∏ –Ω–∞—á–∞–ª–∞ —É—Ä–æ–∫–∞.
	- `–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç üìù` ‚Äî –ø—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –ø–æ –≤—ã—É—á–µ–Ω–Ω—ã–º —Å–ª–æ–≤–∞–º.
	- `–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å–ª–æ–≤–∞ üîÑ` ‚Äî –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∏–∑—É—á–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞.
	- `–ü–æ–º–æ—â—å ‚ùì` ‚Äî –∫–æ–Ω—Ç–∞–∫—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–ª–æ–≤–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ `—Å–ª–æ–≤–æ, –ø–µ—Ä–µ–≤–æ–¥` (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é).

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞
- –õ–æ–≥–∏ –ø–µ—á–∞—Ç–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å (print) ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –æ—à–∏–±–æ–∫.
- –ß–∞—Å—Ç—ã–µ –º–µ—Å—Ç–∞ –ø—Ä–æ–±–ª–µ–º:
	- –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `TOKEN` ‚Üí –±–æ—Ç –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `.env`).
	- –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `DB_*`, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –Ω–∞–ª–∏—á–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `psycopg2`.

### –°–æ–≤–µ—Ç—ã –ø–æ –æ—Ç–ª–∞–¥–∫–µ
- –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `print(os.getenv('TOKEN'))` –≤ `bot/main.py`.
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –º–æ–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç `get_db_connection()`.

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è
- –û—à–∏–±–∫–∞: `NoneType` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ TeleBot ‚Äî –∑–Ω–∞—á–∏—Ç `TOKEN` —Ä–∞–≤–µ–Ω `None`.
	–†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ.
- –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ (`psycopg2.OperationalError`) ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ö–æ—Å—Ç, –ø–æ—Ä—Ç, –∏–º—è –ë–î, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å.

## –î–∞–ª—å—à–µ (–∏–¥–µ–∏)
- –î–æ–±–∞–≤–∏—Ç—å `requirements.txt` –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –¥–ª—è Docker-compose —Å PostgreSQL.
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª –≤–º–µ—Å—Ç–æ `print` (–º–æ–¥—É–ª—å `logging`).

---
–ê–≤—Ç–æ—Ä/–ø–æ–¥–¥–µ—Ä–∂–∫–∞: @aaylbb

